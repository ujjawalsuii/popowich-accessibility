<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ScreenShield</title>
  <link rel="stylesheet" href="popup.css" />
</head>
<body>

  <header>
    <div class="logo">
      <svg viewBox="0 0 32 32" fill="none" aria-hidden="true">
        <path d="M16 2L4 7v9c0 6.6 5.1 12.7 12 14 6.9-1.3 12-7.4 12-14V7L16 2z"
              fill="#4a90d9" opacity="0.15"/>
        <path d="M16 2L4 7v9c0 6.6 5.1 12.7 12 14 6.9-1.3 12-7.4 12-14V7L16 2z"
              stroke="#4a90d9" stroke-width="1.8" stroke-linejoin="round"/>
        <path d="M11 16l3.5 3.5L21 12" stroke="#4a90d9" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span>ScreenShield</span>
    </div>
    <span class="version">v1.0</span>
  </header>

  <main>

    <!-- Dyslexia Friendly card -->
    <div class="card" id="card-dyslexia">
      <div class="card-row">
        <div class="card-info">
          <h2>
            <svg viewBox="0 0 20 20" fill="none" aria-hidden="true">
              <rect x="2" y="4" width="16" height="2" rx="1" fill="#4a90d9"/>
              <rect x="2" y="9" width="12" height="2" rx="1" fill="#4a90d9"/>
              <rect x="2" y="14" width="14" height="2" rx="1" fill="#4a90d9"/>
            </svg>
            Dyslexia Friendly
          </h2>
          <p>OpenDyslexic font, calmer spacing, auto dark/light theme, and focus tools.</p>
        </div>
        <label class="toggle" aria-label="Toggle Dyslexia-Friendly Mode">
          <input type="checkbox" id="dyslexia-toggle" />
          <span class="track"><span class="thumb"></span></span>
        </label>
      </div>
    </div>

    <!-- Color contrast card -->
    <div class="card" id="card-contrast">
      <div class="card-row">
        <div class="card-info">
          <h2>
            <svg viewBox="0 0 20 20" fill="none" aria-hidden="true">
              <circle cx="10" cy="10" r="6" stroke="currentColor" stroke-width="1.5"/>
              <path d="M10 4v12M4 10h12" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
            </svg>
            Color contrast
          </h2>
          <p>Higher contrast and color adjustments for low vision and color blindness.</p>
        </div>
        <label class="toggle" aria-label="Toggle Color Contrast Mode">
          <input type="checkbox" id="contrast-toggle" />
          <span class="track"><span class="thumb"></span></span>
        </label>
      </div>
    </div>

    <!-- Seizure-Safe card -->
    <div class="card" id="card-seizure">
      <div class="card-row">
        <div class="card-info">
          <h2>
            <svg viewBox="0 0 20 20" fill="none" aria-hidden="true">
              <circle cx="10" cy="10" r="8" stroke="#f5a623" stroke-width="1.6"/>
              <path d="M10 6v5" stroke="#f5a623" stroke-width="2" stroke-linecap="round"/>
              <circle cx="10" cy="14.5" r="1" fill="#f5a623"/>
            </svg>
            Seizure Safe
          </h2>
          <p>Stops flashing animations &amp; detects risky video content. Harm reduction — not a medical guarantee.</p>
        </div>
        <label class="toggle" aria-label="Toggle Seizure-Safe Mode">
          <input type="checkbox" id="seizure-toggle" />
          <span class="track"><span class="thumb"></span></span>
        </label>
      </div>

      <!-- Sensitivity slider — only visible when seizure-safe is on -->
      <div class="sensitivity-section" id="sensitivity-section" hidden>
        <div class="sensitivity-header">
          <label for="sensitivity-slider">Detection sensitivity</label>
          <span class="sensitivity-badge" id="sensitivity-value">5</span>
        </div>
        <input type="range" id="sensitivity-slider" min="1" max="10" value="5"
               aria-label="Detection sensitivity" />
        <div class="sensitivity-labels">
          <span>Lenient</span>
          <span>Aggressive</span>
        </div>
      </div>
    </div>

    <!-- Subtitle font size (for ASL-to-text / captions) -->
    <div class="card" id="card-subtitles">
      <div class="card-info">
        <h2>
          <svg viewBox="0 0 20 20" fill="none" aria-hidden="true">
            <rect x="2" y="6" width="16" height="2" rx="1" fill="currentColor"/>
            <rect x="2" y="11" width="12" height="2" rx="1" fill="currentColor"/>
          </svg>
          Subtitle font size
        </h2>
        <p>Size of captions and future ASL-to-text subtitles.</p>
      </div>
      <div class="subtitle-control">
        <label for="subtitle-size-slider" class="sr-only">Subtitle font size</label>
        <input type="range" id="subtitle-size-slider" min="1" max="5" value="3"
               aria-label="Subtitle font size" />
        <div class="subtitle-labels">
          <span>Small</span>
          <span id="subtitle-size-value">Medium</span>
          <span>Large</span>
        </div>
      </div>
    </div>

    <!-- Allowlist card -->
    <div class="card card-allowlist" id="card-allowlist">
      <div class="card-row">
        <div class="card-info">
          <h2>Allow this site</h2>
          <p id="allowlist-domain" class="domain">—</p>
        </div>
        <label class="toggle" aria-label="Allow current site (disable all filters)">
          <input type="checkbox" id="allowlist-toggle" />
          <span class="track"><span class="thumb"></span></span>
        </label>
      </div>
    </div>

  </main>

  <footer>
    <span>Accessibility · Harm Reduction · Open Source</span>
  </footer>

  <script src="../lib/browser-polyfill.js"></script>
  <script src="popup.js"></script>
</body>
</html>
